<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>For My Princess ðŸ’–</title>

<style>
body{
    margin:0;
    height:100vh;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#ff9a9e,#fad0c4,#fbc2eb);
    font-family:Arial;
}

/* ENVELOPE */
#envelope{
    width:250px;height:160px;
    background:#ff4d6d;
    border-radius:12px;
    display:flex;
    justify-content:center;
    align-items:center;
    color:white;
    font-size:22px;
    cursor:pointer;
    position:relative;
}
.flap{
    position:absolute;
    top:0;width:0;height:0;
    border-left:125px solid transparent;
    border-right:125px solid transparent;
    border-top:85px solid #ff1e4d;
    transform-origin:top;
    transition:1s;
}
.open .flap{transform:rotateX(180deg);}

/* LETTER (BIG) */
#letter{
    display:none;
    position:absolute;
    width:92%;
    max-width:1150px;
    height:620px;
    background:white;
    border-radius:18px;
    box-shadow:0 15px 40px rgba(0,0,0,.3);
    overflow:hidden;
}

/* PHOTO BLOCK */
#photoBlock{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) scale(1);
    text-align:center;
    transition:all 1.8s ease;
}
#photo{
    width:280px;   /* bigger photo */
    border-radius:14px;
    box-shadow:0 8px 20px rgba(0,0,0,.2);
}
#title{
    margin-top:10px;
    font-size:30px;
    color:#ff4d6d;
    font-weight:bold;
}

/* Cinematic move + slight zoom */
.move-left{
    left:180px !important;
    top:50%;
    transform:translateY(-50%) scale(1.08) !important;
}

/* TEXT PANEL */
#textPanel{
    position:absolute;
    left:520px;
    right:50px;
    top:40px;
    opacity:0;
    transition:opacity 1s;
}
#typed{
    font-size:20px;
    line-height:1.7;
    min-height:320px;
    white-space:pre-line;
}

/* BUTTONS */
#buttons{display:none;margin-top:20px;}
button{
    padding:12px 24px;
    border:none;
    border-radius:22px;
    margin:6px;
    cursor:pointer;
    font-size:16px;
}
#yes{background:#ff4d6d;color:white;}
#no{background:#eee;color:#ff4d6d;position:relative;}

/* FINAL SCENE */
#party{
    display:none;
    position:fixed;
    inset:0;
    background:linear-gradient(135deg,#1a1a2e,#16213e);
    justify-content:center;
    align-items:center;
    flex-direction:column;
    color:white;
}

/* image reveal */
#bgReveal{
    position:absolute;
    width:70%;
    max-width:800px;
    opacity:0;
    transform:scale(0);
    animation:revealImage 3s ease forwards;
    z-index:-1;
}
@keyframes revealImage{
    to{transform:scale(1);opacity:0.85;}
}

#party h1{
    font-size:55px;
    text-shadow:0 0 20px rgba(255,255,255,.6);
}
</style>
</head>

<body>

<!-- AUDIO -->
<audio id="song1" loop src="song1.mp3"></audio>
<audio id="song2" loop src="song2.mp3"></audio>
<audio id="typingSound" src="typing.mp3"></audio>
<audio id="noSound" src="no-move.mp3"></audio>
<audio id="cheerSound" src="cheer.mp3"></audio>

<div id="envelope">
    <div class="flap"></div>
    ðŸ’Œ Open
</div>

<div id="letter">

    <div id="photoBlock">
        <img src="ashfiya.jpeg" id="photo"><br>
        <div id="title">My Princess ðŸ’–</div>
    </div>

    <div id="textPanel">
        <p id="typed"></p>
        <div id="buttons">
            <button id="yes">Yes ðŸ’ž</button>
            <button id="no">No ðŸ˜¢</button>
        </div>
    </div>

</div>

<div id="party">
    <img src="forever-bg.jpeg" id="bgReveal">
    <h1>you are my cutiee piee ðŸ˜‰ðŸ˜˜</h1>
</div>

<script>
const envelope=document.getElementById("envelope");
const letter=document.getElementById("letter");
const photoBlock=document.getElementById("photoBlock");
const textPanel=document.getElementById("textPanel");
const typed=document.getElementById("typed");
const buttons=document.getElementById("buttons");
const yesBtn=document.getElementById("yes");
const noBtn=document.getElementById("no");
const party=document.getElementById("party");

const song1=document.getElementById("song1");
const song2=document.getElementById("song2");
const typingSound=document.getElementById("typingSound");
const noSound=document.getElementById("noSound");
const cheerSound=document.getElementById("cheerSound");

const message=`You were my Valentine once, and those moments still live in my heart.

Today I donâ€™t just want to relive them â€” I want to build new ones with you.

If you say yes, I promise to choose you again and again, for every Valentine that comesâ€¦ and for every day in between.

Will you be my forever Valentine? ðŸ’–`;

let idx=0;

/* music helpers */
function fadeIn(a,target=0.6){
  a.volume=0;a.play().catch(()=>{});
  let v=0;
  const f=setInterval(()=>{v+=0.02;if(v>=target){v=target;clearInterval(f);}a.volume=v;},200);
}
function fadeOut(a){
  const f=setInterval(()=>{a.volume-=0.03;if(a.volume<=0){a.pause();clearInterval(f);}},150);
}

/* envelope */
envelope.onclick=()=>{
    fadeIn(song1,0.5);

    envelope.classList.add("open");
    setTimeout(()=>{
        envelope.style.display="none";
        letter.style.display="block";

        setTimeout(()=>{
            photoBlock.classList.add("move-left");

            setTimeout(()=>{
                textPanel.style.opacity=1;
                typeWriter();
            },1700);

        },700);

    },1000);
};

/* typing */
function typeWriter(){
    if(idx<message.length){
        typed.innerHTML += message.charAt(idx);

        typingSound.currentTime=0;
        typingSound.play().catch(()=>{});

        let speed=35;
        if(".â€¦\n".includes(message.charAt(idx))) speed=400;

        idx++;
        setTimeout(typeWriter,speed);
    }else{
        buttons.style.display="block";
    }
}

/* no button */
noBtn.onmouseenter=()=>{
    noSound.currentTime=0;
    noSound.play().catch(()=>{});

    const maxX=window.innerWidth*0.25;
    const maxY=window.innerHeight*0.18;
    const x=(Math.random()-0.5)*maxX;
    const y=(Math.random()-0.5)*maxY;

    noBtn.style.transform=`translate(${x}px,${y}px)`;
};

/* yes */
yesBtn.onclick=()=>{
    cheerSound.play().catch(()=>{});
    fadeOut(song1);
    fadeIn(song2,0.6);

    letter.style.display="none";
    party.style.display="flex";
};
</script>

</body>
</html>
